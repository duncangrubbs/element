<!DOCTYPE html>

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../periodic-element.html">
<link rel="import" href="../bower_components/dom-repeat-n/dom-repeat-n.html">
<link rel="import" href="../bower_components/paper-styles/typography.html">
<link rel="import" href="../bower_components/paper-styles/color.html">

<dom-module id="periodic-table">

  <style>
    :host {
      width: 100vw;
      min-height: 90vh;
    }

    .element {
      width: 50px;
      height: 50px;
      margin: 8px;
      background: grey;
    }
  </style>

  <template>

    <template is="dom-repeat" items="{{data}}">
       <periodic-element atomic-number="[[item.ATOMIC_NUMBER]]" atomic-symbol="[[item.SYMBOL]]" atomic-mass="[[item.ATOMIC_WEIGHT]]" name="[[item.NAME]]"></periodic-element>
    </template>

  </template>

  <script>
    Polymer({
      is: 'periodic-table',
      properties: {
        data: {
          type: Array
        }
      },

      ready: function() {
        fetch('old.json')
          .then(resp => {
            data = resp.json()
            .then(data => {
              function compare(a,b) {
                if (a.ATOMIC_NUMBER < b.ATOMIC_NUMBER)
                  return -1;
                if (a.ATOMIC_NUMBER > b.ATOMIC_NUMBER)
                  return 1;
                return 0;
              }
              this.data = data.PERIODIC_TABLE.ATOM.sort(compare);
            })
          });
      },

      compare: function() {
         if (a.ATOMIC_NUMBER < b.ATOMIC_NUMBER)
            return -1;
          if (a.lATOMIC_NUMBER > b.ATOMIC_NUMBER)
            return 1;
          return 0;
      }
    });
  </script>

</dom-module>
